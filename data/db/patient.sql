DROP TABLE IF EXISTS patient CASCADE;

CREATE TABLE patient (
    id INTEGER NOT NULL PRIMARY KEY,
    globcog_random_slope REAL,
    cog_ep_random_slope REAL,
    parksc_bv REAL CHECK (parksc_bv BETWEEN 0 AND 100),
    gaitsc_bv REAL CHECK (gaitsc_bv BETWEEN 0 AND 100),
    bradysc_bv REAL CHECK (bradysc_bv BETWEEN 0 AND 100),
    rigidsc_bv REAL CHECK (rigidsc_bv BETWEEN 0 AND 100),
    tremsc_bv REAL CHECK (tremsc_bv BETWEEN 0 AND 100),
    parksc_lv REAL CHECK (parksc_lv BETWEEN 0 AND 100),
    gaitsc_lv REAL CHECK (gaitsc_lv BETWEEN 0 AND 100),
    bradysc_lv REAL CHECK (bradysc_lv BETWEEN 0 AND 100),
    rigidsc_lv REAL CHECK (rigidsc_lv BETWEEN 0 AND 100),
    tremsc_lv REAL CHECK (tremsc_lv BETWEEN 0 AND 100),
    cog_ep_lv REAL,
    globcog_lv REAL,
    age_bl REAL CHECK (age_bl BETWEEN 0 AND 120),
    age_death REAL CHECK (age_death BETWEEN 0 AND 120),
    educ SMALLINT CHECK (educ BETWEEN 0 AND 100),
    msex BOOLEAN NOT NULL,
    apoe_genotype INTEGER CHECK (apoe_genotype BETWEEN 0 AND 100),
    dlbany BOOLEAN,
    arteriol_scler INTEGER CHECK (arteriol_scler >= 0),
    ci_num2_gct BOOLEAN,
    ci_num2_mct BOOLEAN,
    pmAD BOOLEAN,
    pathoAD BOOLEAN,
    studyn SMALLINT CHECK (studyn BETWEEN 0 AND 1),
    np_sqrt REAL CHECK (arteriol_scler >= 0),
    nft_sqrt REAL CHECK (arteriol_scler >= 0),
    gpath_sqrt REAL CHECK (arteriol_scler >= 0),
    tangles_sqrt REAL CHECK (arteriol_scler >= 0),
    amyloid_sqrt REAL CHECK (arteriol_scler >= 0),
    apoe4n INTEGER CHECK (apoe4n >= 0),
    pkyrs_bl REAL,
    EV1 REAL,
    EV2 REAL,
    EV3 REAL,
    EV4 REAL,
    EV5 REAL,
    EV6 REAL,
    EV7 REAL,
    EV8 REAL,
    EV9 REAL,
    EV10 REAL,
    aa_av_3 REAL
);

-- load data
COPY patient FROM '../db/patient.tsv';
